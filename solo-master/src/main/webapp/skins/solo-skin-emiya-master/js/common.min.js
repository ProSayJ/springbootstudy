function Emiya(){this.listen()}function initPageShare(){var t=$(".J_share"),e=$(".J_share_wechat"),a=e.data("url"),n=e.data("avatar"),i=encodeURIComponent(e.data("title")+" - "+e.data("blogtitle")),o=encodeURIComponent(a),s={};s.weibo="http://v.t.sina.com.cn/share/share.php?title="+i+"&url="+o+"&pic="+n,s.qzone="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+o+"&sharesource=qzone&title="+i+"&pics="+n,s.twitter="https://twitter.com/intent/tweet?status="+i+" "+o,t.on("click",function(){var t=$(this).data("type");if(t)return"wechat"===t?(0===e.find("canvas").length?$.ajax({method:"GET",url:Label.staticServePath+"/js/lib/jquery.qrcode.min.js",dataType:"script",cache:!0,success:function(){e.qrcode({width:128,height:128,text:a})}}):e.find("canvas").slideToggle(),!1):void window.open(s[t],"_blank","top=100,left=200,width=648,height=618")})}function checkScroll(t){var e=t,a=$(".J_navbar");function n(t){var e=a.height()+1;e<t&&a.addClass("is-fixed").css("top",-1*e),t<=0&&a.removeClass("is-fixed").css("top",0)}return n(e),function(t){n(t),a.hasClass("is-fixed")&&(e<t?a.removeClass("show"):a.addClass("show"),e=t)}}document.body.addEventListener("touchstart",function(){});var scrollManager=checkScroll($(window).scrollTop());Emiya.prototype.listen=function(){$(".J_navbar_toggle").on("click",function(){var t="."+$(this).attr("data-for");$(t).hasClass("show")?$(t).removeClass("show"):$(t).addClass("show")}),$(window).on("scroll",function(){var t=$(window).scrollTop();scrollManager(t)})},Emiya.prototype.initArticle=function(){initPageShare()},window.Skin=new Emiya;